// Foundation by ZURB
// foundation.zurb.com
// Licensed under MIT Open Source

@import '_c-button';
@import '_c-button-dropdown';

//
// @name _split-btns.scss
// @dependencies _buttons.scss, _global.scss
//


// We use these to control different shared styles for Split Buttons
$split-btn-function-factor: 10% !default;
$split-btn-pip-color: #fff !default;
$split-btn-pip-color-alt: #faa !default;
$split-btn-active-bg-tint: rgba(0,0,0,0.1) !default;
$split-btn-span-border-color: rgba(255,255,255,0.5) !default;

// We use these to control medium split buttons
$split-btn-padding-med: $button-pip-med * 9 !default;
$split-btn-span-width-med: $button-pip-med * 5.5 !default;
$split-btn-pip-size-med: $button-pip-med - rem-calc(3) !default;
$split-btn-pip-top-med: $button-pip-med * 1.5 !default;
$split-btn-pip-default-float-med: rem-calc(-6) !default;

//
// @mixins
//

// We use this mixin to create split buttons that build upon the button mixins
//
// $padding - Type of padding to apply. Default: medium. Options: tiny, small, medium, large.
// $pip-color - Color of the triangle. Default: $split-btn-pip-color.
// $span-border - Border color of button divider. Default: $split-btn-span-border-color.
// $base-style - Apply base style to split button. Default: true.
@mixin split-btn(
  $padding:medium,
  $pip-color:$split-btn-pip-color,
  $span-border:$split-btn-span-border-color,
  $base-style:true) {

  // With this, we can control whether or not the base styles come through.
  @if $base-style {
    position: relative;

    // Styling for the split arrow clickable area
    span {
      display: block;
      height: 100%;
      position: absolute;
      #{$opposite-direction}: 0;
      top: 0;
      border-#{$default-float}: solid 1px;

      // Building the triangle pip indicator
      &:after {
        position: absolute;
        content: "";
        width: 0;
        height: 0;
        display: block;
        border-style: inset;
        top: 50%;
        #{$default-float}: 50%;
      }

      &:active { background-color: $split-btn-active-bg-tint; }
    }
  }

  // Control the border color for the span area of the split button
  @if $span-border {
    span {
      border-#{$default-float}-color: $span-border;
    }
  }
  // Style of the button and clickable area for default (medium) sizes
  @else if $padding == medium {
    padding-#{$opposite-direction}: $split-btn-padding-med;

    span { width: $split-btn-span-width-med;
      &:after {
        border-top-style: solid;
        border-width: $split-btn-pip-size-med;
        margin-#{$default-float}: $split-btn-pip-default-float-med;
        top: 48%;
      }
    }
  }

  // Control the color of the triangle pip
  @if $pip-color {
    span:after { border-color: $pip-color transparent transparent transparent; }
  }
}

@include exports("split-btn") {
    .c-split.c-btn {
      @include split-btn;
    }
}
